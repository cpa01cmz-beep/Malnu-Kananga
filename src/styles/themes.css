/* Theme-specific styles - Theme Manager handles CSS variables dynamically */

/* Respect user's motion preference for accessibility */
@media (prefers-reduced-motion: reduce) {
  body,
  .transition-theme {
    transition-duration: 0.01ms !important;
  }
}

/* Enable smooth transitions for theme changes on semantic elements */
body,
.transition-theme {
  transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
}

/* Custom scrollbar colors - using Tailwind v4 CSS variables with theme fallback */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--color-neutral-100));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--color-neutral-400) / 0.5);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--color-primary-500));
}

/* Firefox scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--color-neutral-400) / 0.5) hsl(var(--color-neutral-100));
}

/* Custom scrollbar utility class for consistent styled scrollbars */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--color-neutral-400) / 0.5) hsl(var(--color-neutral-100));
}

.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: hsl(var(--color-neutral-100));
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: hsl(var(--color-neutral-400) / 0.5);
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--color-primary-500));
}

/* Dark mode custom scrollbar */
@media (prefers-color-scheme: dark) {
  .custom-scrollbar {
    scrollbar-color: hsl(var(--color-neutral-500) / 0.6) hsl(var(--color-neutral-800));
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: hsl(var(--color-neutral-800));
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--color-neutral-500) / 0.6);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--color-primary-400));
  }
}

/* Dark class-based scrollbar (for manual dark mode) */
.dark .custom-scrollbar {
  scrollbar-color: hsl(var(--color-neutral-500) / 0.6) hsl(var(--color-neutral-800));
}

.dark .custom-scrollbar::-webkit-scrollbar-track {
  background: hsl(var(--color-neutral-800));
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background: hsl(var(--color-neutral-500) / 0.6);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--color-primary-400));
}

/* Compact scrollbar for smaller spaces */
.custom-scrollbar-compact {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--color-neutral-400) / 0.5) hsl(var(--color-neutral-100));
}

.custom-scrollbar-compact::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar-compact::-webkit-scrollbar-track {
  background: hsl(var(--color-neutral-100));
  border-radius: 3px;
}

.custom-scrollbar-compact::-webkit-scrollbar-thumb {
  background: hsl(var(--color-neutral-400) / 0.5);
  border-radius: 3px;
  transition: background-color 0.2s ease;
}

.custom-scrollbar-compact::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--color-primary-500));
}

@media (prefers-color-scheme: dark) {
  .custom-scrollbar-compact {
    scrollbar-color: hsl(var(--color-neutral-500) / 0.6) hsl(var(--color-neutral-800));
  }

  .custom-scrollbar-compact::-webkit-scrollbar-track {
    background: hsl(var(--color-neutral-800));
  }

  .custom-scrollbar-compact::-webkit-scrollbar-thumb {
    background: hsl(var(--color-neutral-500) / 0.6);
  }

  .custom-scrollbar-compact::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--color-primary-400));
  }
}

.dark .custom-scrollbar-compact {
  scrollbar-color: hsl(var(--color-neutral-500) / 0.6) hsl(var(--color-neutral-800));
}

.dark .custom-scrollbar-compact::-webkit-scrollbar-track {
  background: hsl(var(--color-neutral-800));
}

.dark .custom-scrollbar-compact::-webkit-scrollbar-thumb {
  background: hsl(var(--color-neutral-500) / 0.6);
}

.dark .custom-scrollbar-compact::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--color-primary-400));
}

/* Touch-optimized scrollbar for mobile devices */
@media (hover: none) and (pointer: coarse) {
  .custom-scrollbar::-webkit-scrollbar,
  .custom-scrollbar-compact::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb,
  .custom-scrollbar-compact::-webkit-scrollbar-thumb {
    min-height: 48px;
    min-width: 48px;
  }
}

/* Accessible scrollbar visibility - ensures scrollbar is always visible for keyboard users */
.scrollbar-accessible {
  overflow: auto !important;
}

.scrollbar-hide {
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide::-webkit-scrollbar-track {
  display: none;
}

.scrollbar-hide::-webkit-scrollbar-thumb {
  display: none;
}

/* Warning: scrollbar-hide should only be used when necessary */
/* It can reduce accessibility for keyboard and mouse users */

/* Ensure proper contrast for all theme variants */
@media (prefers-contrast: high) {
  :root {
    --theme-neutral-700: 220 40% 2%;
    --theme-neutral-900: 220 50% 0%;
    --theme-neutral-100: 220 10% 95%;
    --theme-neutral-50: 220 10% 98%;
    --theme-primary-600: 142 90% 30%;
    --theme-primary-900: 142 90% 20%;
    --theme-primary-500: 142 85% 25%;
    --theme-green-600: 142 85% 25%;
    --theme-red-600: 0 85% 35%;
    --theme-blue-600: 217 85% 40%;
  }

  .dark {
    --theme-neutral-100: 220 10% 10%;
    --theme-neutral-700: 220 10% 95%;
    --theme-neutral-800: 220 10% 98%;
    --theme-primary-400: 142 90% 70%;
    --theme-primary-600: 142 90% 50%;
    --theme-primary-500: 142 75% 45%;
    --theme-green-500: 142 75% 45%;
    --theme-red-500: 0 75% 55%;
    --theme-blue-500: 217 75% 60%;
  }
}

/* Enhanced contrast improvements for better accessibility */
:root {
  /* Improved text contrast ratios */
  --theme-neutral-600: 215 20% 30%; /* Increased from 35% for better contrast */
  --theme-neutral-700: 219 30% 18%;  /* Increased from 22% for better contrast */
  --theme-primary-500: 142 72% 35%; /* Increased from 30% for better contrast */
  --theme-primary-600: 142 72% 40%; /* Increased from 42% for better contrast */
  
  /* Better contrast for semantic colors */
  --theme-green-600: 142 72% 35%; /* Increased from 30% */
  --theme-red-600: 0 72% 45%;     /* Increased from 51% */
  --theme-blue-600: 221 83% 48%;   /* Increased from 53% */
  --theme-orange-600: 24 95% 45%;  /* Increased from 53% */
}

.dark {
  /* Better dark mode contrast */
  --theme-neutral-300: 220 10% 75%; /* Increased from 71% */
  --theme-neutral-400: 220 10% 65%; /* Increased from 60% */
  --theme-primary-400: 142 70% 65%; /* Increased from 58% */
  --theme-primary-500: 142 72% 50%; /* Increased from 42% */
  
  /* Better contrast for semantic colors in dark mode */
  --theme-green-400: 142 70% 65%; /* Increased from 58% */
  --theme-red-400: 0 89% 65%;     /* Increased from 74% */
  --theme-blue-400: 217 91% 70%; /* Increased from 67% */
  --theme-orange-400: 24 97% 65%; /* Increased from 58% */
}

/* Note: All scrollbar styles use Tailwind v4 CSS variables (hsl(var(--color-*)))
   which integrate with the ThemeManager for dynamic theming.
   Primary colors adapt to theme changes via --theme-primary-* variables set in index.css */